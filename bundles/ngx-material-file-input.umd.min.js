!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@angular/material"),require("@angular/cdk/a11y"),require("@angular/cdk/coercion"),require("rxjs")):"function"==typeof define&&define.amd?define("ngx-material-file-input",["exports","@angular/core","@angular/forms","@angular/material","@angular/cdk/a11y","@angular/cdk/coercion","rxjs"],t):t(e["ngx-material-file-input"]={},e.ng.core,e.ng.forms,e.ng.material,e.ng.cdk.a11y,e.ng.cdk.coercion,e.rxjs)}(this,function(e,t,n,i,r,a,s){"use strict";var o=new t.InjectionToken("ngx-mat-file-input.config"),l=function(){},u=function(){function e(e,t){void 0===t&&(t=", "),this._files=e,this.delimiter=t,this._fileNames=this._files.map(function(e){return e.name}).join(t)}return Object.defineProperty(e.prototype,"files",{get:function(){return this._files||[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileNames",{get:function(){return this._fileNames},enumerable:!0,configurable:!0}),e}(),p=function(){function o(e,t,n,i){var r=this;this.ngControl=e,this.fm=t,this._elementRef=n,this._renderer=i,this.stateChanges=new s.Subject,this.focused=!1,this.controlType="file-input",this.autofilled=!1,this._required=!1,this.id="ngx-mat-file-input-"+o.nextId++,this.describedBy="",this._onChange=function(e){},this._onTouched=function(){},null!=this.ngControl&&(this.ngControl.valueAccessor=this),t.monitor(n.nativeElement,!0).subscribe(function(e){r.focused=!!e,r.stateChanges.next()})}return o.prototype.setDescribedByIds=function(e){this.describedBy=e.join(" ")},Object.defineProperty(o.prototype,"value",{get:function(){return this.empty?null:new u(this._elementRef.nativeElement.value||[])},set:function(e){e&&(this.writeValue(e.files),this.stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"empty",{get:function(){return!this._elementRef.nativeElement.value||0===this._elementRef.nativeElement.value.length},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"shouldLabelFloat",{get:function(){return this.focused||!this.empty||this.valuePlaceholder!==undefined},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"required",{get:function(){return this._required},set:function(e){this._required=a.coerceBooleanProperty(e),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"disabled",{get:function(){return this._elementRef.nativeElement.disabled},set:function(e){this.setDisabledState(a.coerceBooleanProperty(e)),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"errorState",{get:function(){return null!==this.ngControl.errors&&this.ngControl.touched},enumerable:!0,configurable:!0}),o.prototype.onContainerClick=function(e){"input"===e.target.tagName.toLowerCase()||this.disabled||(this._elementRef.nativeElement.querySelector("input").focus(),this.focused=!0,this.open())},o.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",e)},o.prototype.registerOnChange=function(e){this._onChange=e},o.prototype.registerOnTouched=function(e){this._onTouched=e},o.prototype.change=function(e){var t=e.target.files,n=[];if(t)for(var i=0;i<t.length;i++)n.push(t[i]);this.value=new u(n),this._onChange(this.value)},o.prototype.blur=function(){this.focused=!1,this._onTouched()},o.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},o.prototype.ngOnInit=function(){this.multiple=a.coerceBooleanProperty(this.multiple)},o.prototype.open=function(){this.disabled||this._elementRef.nativeElement.querySelector("input").click()},Object.defineProperty(o.prototype,"fileNames",{get:function(){return this.value?this.value.fileNames:this.valuePlaceholder},enumerable:!0,configurable:!0}),o.prototype.ngOnDestroy=function(){this.stateChanges.complete(),this.fm.stopMonitoring(this._elementRef.nativeElement)},o.nextId=0,o.decorators=[{type:t.Component,args:[{selector:"ngx-mat-file-input",template:'<input #input id="md-input-file" type="file" [attr.multiple]="multiple? \'\' : null">\n<span class="filename">{{ fileNames }}</span>\n',styles:[":host{display:inline-block}:host:not(.file-input-disabled){cursor:pointer}input{width:0;height:0;opacity:0;overflow:hidden;position:absolute;z-index:-1}.filename{display:inline-block}"],providers:[{provide:i.MatFormFieldControl,useExisting:o}]}]}],o.ctorParameters=function(){return[{type:n.NgControl,decorators:[{type:t.Optional},{type:t.Self}]},{type:r.FocusMonitor},{type:t.ElementRef},{type:t.Renderer2}]},o.propDecorators={autofilled:[{type:t.Input}],valuePlaceholder:[{type:t.Input}],multiple:[{type:t.Input}],id:[{type:t.HostBinding}],describedBy:[{type:t.HostBinding,args:["attr.aria-describedby"]}],value:[{type:t.Input}],placeholder:[{type:t.Input}],shouldLabelFloat:[{type:t.HostBinding,args:["class.mat-form-field-should-float"]}],required:[{type:t.Input}],isDisabled:[{type:t.HostBinding,args:["class.file-input-disabled"]}],disabled:[{type:t.Input}],errorState:[{type:t.Input}],change:[{type:t.HostListener,args:["change",["$event"]]}],blur:[{type:t.HostListener,args:["focusout"]}]},o}(),c=function(){function e(e){this.config=e,this.unit=e?e.sizeUnit:"Byte"}return e.prototype.transform=function(e,t){return 0<=parseInt(e,10)&&(e=this.formatBytes(+e,+t)),e},e.prototype.formatBytes=function(e,t){if(0===e)return"0 "+this.unit;var n=this.unit.charAt(0),i=t||2,r=[this.unit,"K"+n,"M"+n,"G"+n,"T"+n,"P"+n,"E"+n,"Z"+n,"Y"+n],o=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,o)).toFixed(i))+" "+r[o]},e.decorators=[{type:t.Pipe,args:[{name:"byteFormat"}]}],e.ctorParameters=function(){return[{type:l,decorators:[{type:t.Optional},{type:t.Inject,args:[o]}]}]},e}(),f=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[p,c],providers:[r.FocusMonitor],exports:[p,c]}]}],e}();(e.FileValidator||(e.FileValidator={})).maxContentSize=function(n){return function(e){var t=e&&e.value?e.value.files.map(function(e){return e.size}).reduce(function(e,t){return e+t},0):0;return t<=n?null:{maxContentSize:{actualSize:t,maxSize:n}}}},e.NGX_MAT_FILE_INPUT_CONFIG=o,e.MaterialFileInputModule=f,e.ByteFormatPipe=c,e.FileInput=u,e.ɵb=p,e.ɵa=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-material-file-input.umd.min.js.map